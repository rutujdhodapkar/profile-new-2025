<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>About -Rutuj Dhodapkar</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Krona+One&display=swap" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    body {
      margin: 0;
      padding: 0;
      font-family: 'Krona One', Arial, sans-serif;
      background: #000000;
      color: #fff;
      min-height: 100vh;
      width: 100vw;
      overflow: hidden;
    }
    .container {
      width: 100vw;
      min-height: 100vh;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
    }
    .top-spacer {
      width: 100vw;
      height: 80px;
      min-height: 60px;
      background: none;
      border: none;
      display: block;
      margin: 0;
      padding: 0;
    }
    @media (max-width: 900px) {
      .top-spacer {
        height: 60px;
        min-height: 40px;
      }
    }
    @media (max-width: 600px) {
      .top-spacer {
        height: 40px;
        min-height: 24px;
      }
    }
    section {
      width: 100vw;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      align-items: center;
      background: none;
      border-radius: 0;
      box-shadow: none;
      padding: 0;
      margin: 0;
      overflow: visible !important;
      position: relative;
    }
    #certificates {
      margin-bottom: 64px !important;
    }
    @media (max-width: 900px) {
      #certificates {
        margin-bottom: 48px !important;
      }
    }
    @media (max-width: 600px) {
      #certificates {
        margin-bottom: 32px !important;
      }
    }
    #projects {
      margin-top: 0 !important;
      padding-top: 0 !important;
    }
    #certificates .iframe-container {
      margin-bottom: 0 !important;
    }
    #projects .iframe-container {
      margin-top: 0 !important;
    }
    #certificates + #projects {
      margin-top: 0 !important;
    }
    .cert-proj-gap {
      width: 100vw;
      min-height: 48px;
      height: 48px;
      max-height: 80px;
      background: transparent;
      display: block;
      pointer-events: none;
    }
    @media (max-width: 900px) {
      .cert-proj-gap {
        min-height: 32px;
        height: 32px;
        max-height: 48px;
      }
    }
    @media (max-width: 600px) {
      .cert-proj-gap {
        min-height: 18px;
        height: 18px;
        max-height: 32px;
      }
    }
    h2 {
      font-size: 2rem;
      margin-top: 32px;
      margin-bottom: 18px;
      letter-spacing: 1.5px;
      color: #ffeb3b;
      z-index: 2;
    }
    .iframe-container,
    .skills-extra-iframe-container,
    section {
      width: 100vw;
      max-width: 100vw;
      min-width: 0;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      background: none;
      border: none;
      margin: 0;
      padding: 0;
    }
    .iframe-container {
      min-height: 600px;
      height: auto;
      border-radius: 0;
      overflow: visible;
      border: none;
      background: none;
      flex: 1 1 0;
      display: flex;
    }
    #skills .skills-extra-iframe-container {
      min-height: 300px;
      height: auto;
      max-height: none;
      align-items: flex-start;
      margin-bottom: 0;
    }
    #skills .skills-extra-iframe-container iframe {
      width: 100vw;
      min-width: 0;
      max-width: 100vw;
      min-height: 300px;
      height: 360px;
      max-height: none;
      border: none;
      background: none;
      display: block;
      margin: 0;
      padding: 0;
    }
    #skills .iframe-container {
      min-height: 600px;
      height: 600px;
      max-height: none;
      margin-top: 0;
      margin-bottom: 0;
      overflow: visible;
    }
    #skills .iframe-container iframe {
      width: 100vw;
      min-width: 0;
      max-width: 100vw;
      min-height: 600px;
      height: 600px;
      max-height: none;
      border: none;
      background: none;
      display: block;
      margin: 0;
      padding: 0;
    }
    #certificates .iframe-container {
      min-height: 700px;
      height: 800px;
      max-height: none;
      margin-top: 0;
      margin-bottom: 0;
      overflow: visible;
    }
    #certificates .iframe-container iframe {
      width: 100vw;
      min-width: 0;
      max-width: 100vw;
      min-height: 700px;
      height: 800px;
      max-height: none;
      border: none;
      background: none;
      display: block;
      margin: 0;
      padding: 0;
    }
    section:not(#skills):not(#certificates) .iframe-container,
    section:not(#skills):not(#certificates) .iframe-container iframe {
      min-height: 600px;
      height: 600px;
      max-height: none;
    }
    iframe {
      width: 100vw;
      min-width: 0;
      max-width: 100vw;
      height: 100%;
      min-height: 0;
      max-height: 100%;
      border: none;
      background: none;
      display: block;
      flex: 1 1 0;
    }
    section {
      min-height: 600px;
      max-height: none;
      height: auto;
    }
    @media (max-width: 1200px) {
      #skills .skills-extra-iframe-container,
      #skills .skills-extra-iframe-container iframe {
        min-height: 200px;
        height: 260px;
        max-height: none;
      }
      #skills .iframe-container,
      #skills .iframe-container iframe {
        min-height: 400px;
        height: 440px;
        max-height: none;
      }
      #certificates .iframe-container,
      #certificates .iframe-container iframe {
        min-height: 500px;
        height: 620px;
        max-height: none;
      }
      section:not(#skills):not(#certificates) .iframe-container,
      section:not(#skills):not(#certificates) .iframe-container iframe {
        min-height: 500px;
        height: 620px;
        max-height: none;
      }
    }
    @media (max-width: 900px) {
      #skills .skills-extra-iframe-container,
      #skills .skills-extra-iframe-container iframe {
        min-height: 140px;
        height: 180px;
        max-height: none;
      }
      #skills .iframe-container,
      #skills .iframe-container iframe {
        min-height: 320px;
        height: 320px;
        max-height: none;
      }
      #certificates .iframe-container,
      #certificates .iframe-container iframe {
        min-height: 400px;
        height: 500px;
        max-height: none;
      }
      section:not(#skills):not(#certificates) .iframe-container,
      section:not(#skills):not(#certificates) .iframe-container iframe {
        min-height: 400px;
        height: 500px;
        max-height: none;
      }
      h2 {
        margin-top: 18px;
        font-size: 1.3rem;
      }
    }
    @media (max-width: 600px) {
      #skills .skills-extra-iframe-container,
      #skills .skills-extra-iframe-container iframe {
        min-height: 100px;
        height: 120px;
        max-height: none;
      }
      #skills .iframe-container,
      #skills .iframe-container iframe {
        min-height: 120px;
        height: 140px;
        max-height: none;
      }
      #certificates .iframe-container,
      #certificates .iframe-container iframe {
        min-height: 240px;
        height: 320px;
        max-height: none;
      }
      section:not(#skills):not(#certificates) .iframe-container,
      section:not(#skills):not(#certificates) .iframe-container iframe {
        min-height: 240px;
        height: 320px;
        max-height: none;
      }
      h2 {
        font-size: 1.1rem;
        margin-top: 10px;
      }
    }
    #rectiangleNavbar {
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      width: fit-content;
      padding: 10px 20px;
      background: #ffffff;
      backdrop-filter: blur(30px);
      -webkit-backdrop-filter: blur(20px);
      border-radius: 200px;
      z-index: 9999;
      transition: 
        opacity 0.7s cubic-bezier(.4,0,.2,1),
        filter 0.7s cubic-bezier(.4,0,.2,1),
        all 0.5s ease-in-out;
      opacity: 0;
      pointer-events: none;
      filter: blur(0px);
      display: flex;
      align-items: center;
      justify-content: center;
    }
    #rectiangleNavbar.navbar-visible {
      opacity: 1;
      pointer-events: auto;
      filter: blur(0);
    }
    @media only screen and (max-width: 768px) {
      #rectiangleNavbar {
        display: none;
      }
      #blogs-btn-container {
        display: none !important;
      }
    }
    #rectiangleNavbar .page-nav ul {
      list-style: none;
      display: flex;
      gap: 10px;
      padding: 0;
      margin: 0;
      position: relative;
    }
    #rectiangleNavbar .page-nav li {
      cursor: pointer;
      padding: 8px 15px;
      transition: background-color 0.3s, color 0.3s, transform 0.3s;
      border-radius: 50px;
      position: relative;
    }
    body:not(.dark-mode) #rectiangleNavbar .page-nav li {
      color: #000000;
    }
    body.dark-mode #rectiangleNavbar .page-nav li {
      color: white;
    }
    #rectiangleNavbar .page-nav li:hover {
      background-color: #fbfbfba4;
      color: white;
      transform: scale(1.1);
    }
    .highlight {
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      background-color: #0000002c !important; /* changed to yellow */
      transition: left 0.5s ease, width 0.5s ease;
      border-radius: 50px;
      z-index: -1;
    }
    #rectiangleNavbar a {
      text-decoration: none;
      color: inherit;
    }
    #blogs-btn-container {
      margin-left: 24px;
      display: flex;
      align-items: center;
      height: 100%;
    }
    #blogs-btn {
      display: flex;
      align-items: center;
      gap: 7px;
      padding: 7px 22px 7px 18px;
      border: 2px solid rgba(0, 0, 0, 0.7);
      background: rgba(255,255,255,0.08);
      color: #000000;
      border-radius: 40px;
      font-family: 'BitmapFont', Arial, sans-serif;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: 
        background 0.2s,
        border-color 0.2s,
        color 0.2s,
        box-shadow 0.2s;
      box-shadow: 0 2px 12px 0 rgba(0,0,0,0.04);
      outline: none;
      position: relative;
      z-index: 10;
      user-select: none;
    }
    #blogs-btn:hover, #blogs-btn:focus {
      background: rgba(255,255,255,0.18);
      border-color: #000000;
      color: #222;
      box-shadow: 0 4px 24px 0 rgba(0,0,0,0.10);
    }
    #blogs-btn .arrow {
      display: inline-block;
      width: 18px;
      height: 18px;
      margin-left: 2px;
      vertical-align: middle;
      transition: transform 0.2s;
    }
    #blogs-btn .arrow svg path {
      stroke: #000 !important;
    }
    #blogs-btn:hover .arrow {
      transform: translateX(4px) scale(1.08);
    }
    @media (max-width: 900px) {
      #blogs-btn {
        font-size: 0.95rem;
        padding: 6px 16px 6px 12px;
      }
      #blogs-btn .arrow {
        width: 15px;
        height: 15px;
      }
    }
    @media (max-width: 600px) {
      #blogs-btn {
        font-size: 0.85rem;
        padding: 5px 10px 5px 8px;
      }
      #blogs-btn .arrow {
        width: 12px;
        height: 12px;
      }
    }
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    .extra-bottom-space {
      width: 100vw;
      height: 120px;
      min-height: 80px;
      background: none;
      border: none;
      display: block;
      margin: 0;
      padding: 0;
    }
    @media (max-width: 600px) {
      .extra-bottom-space {
        height: 60px;
        min-height: 40px;
      }
    }
    #scrollUpOverlay, #scrollDownOverlay {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.08);
      z-index: 100000;
      pointer-events: auto;
      display: none;
      transition: opacity 0.2s;
      opacity: 0;
    }
    #scrollUpOverlay.active, #scrollDownOverlay.active {
      display: block;
      opacity: 1;
    }
  </style>
</head>
<body>
  <div id="scrollUpOverlay"></div>
  <div id="scrollDownOverlay"></div>
  <div id="rectiangleNavbar" class="rectriangle">
    <nav class="page-nav">
      <ul>
        <li data-section="home"><a href="#home" id="home-nav-link"><strong>Home</strong></a></li>
        <li data-section="about"><a href="#about"><strong>About</strong></a></li>
        <li data-section="skills"><a href="#skills"><strong>Skills</strong></a></li>
        <li data-section="certificates"><a href="#certificates"><strong>Certificates</strong></a></li>
        <li data-section="projects"><a href="#projects"><strong>Projects</strong></a></li>
        <li data-section="contact"><a href="#contact" id="contact-nav-link"><strong>Contact</strong></a></li>
        <div class="highlight"></div>
      </ul>
    </nav>
    <div id="blogs-btn-container">
      <button id="blogs-btn" type="button" title="Go to Blogs">
        Research
        <span class="arrow">
          <svg width="18" height="18" viewBox="0 0 18 18" fill="none" 
            xmlns="http://www.w3.org/2000/svg">
            <path d="M6 3L12 9L6 15" stroke="#000" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </span>
      </button>
    </div>
  </div>
  <div class="container">
    <div class="top-spacer"></div>
    <section id="about">
      <div class="iframe-container">
        <iframe src="info.html" title="About Page" scrolling="no"></iframe>
      </div>
    </section>
    <section id="skills">
      <div class="skills-extra-iframe-container">
        <iframe src="skill.html" title="Skill Squares" scrolling="no"></iframe>
      </div>
      <div class="iframe-container">
        <iframe src="skill section.html" title="Skill Section Page" scrolling="no"></iframe>
      </div>
    </section>
    <section id="certificates">
      <div class="iframe-container">
        <iframe src="certificate.html" title="Certificates Page" scrolling="no"></iframe>
      </div>
    </section>
    <div class="cert-proj-gap"></div>
    <section id="projects">
      <div class="iframe-container">
        <iframe src="project section.html" title="Project Selection Page" scrolling="no"></iframe>
      </div>
    </section>
    <div class="extra-bottom-space"></div>
  </div>
  <script>
    function checkDataFile() {
      fetch('data.csv', { method: 'HEAD' })
        .then(response => {
          if (!response.ok) {
            window.location.href = 'error.html';
          }
        })
        .catch(() => {
          window.location.href = 'error.html';
        });
    }
    checkDataFile();

    document.querySelectorAll('iframe').forEach(function(iframe) {
      iframe.addEventListener('wheel', function(e) {
        e.preventDefault();
      });
      iframe.addEventListener('touchmove', function(e) {
        e.preventDefault();
      });
    });

    document.body.style.overflowY = "auto";
    document.body.style.overflowX = "hidden";
    document.querySelector('.container').style.height = "auto";
    document.querySelectorAll('section').forEach(function(section) {
      section.style.minHeight = "";
      section.style.height = "";
      section.style.maxHeight = "";
    });

    document.addEventListener('DOMContentLoaded', function() {
      setTimeout(function() {
        var navbar = document.getElementById('rectiangleNavbar');
        if (navbar) {
          navbar.classList.add('navbar-visible');
        }
      }, 1000);

      var homeNavLink = document.getElementById('home-nav-link');
      if (homeNavLink) {
        homeNavLink.addEventListener('click', function(e) {
          e.preventDefault();
          window.location.href = "Main.html";
        });
      }

      var contactNavLink = document.getElementById('contact-nav-link');
      if (contactNavLink) {
        contactNavLink.addEventListener('click', function(e) {
          e.preventDefault();
          window.location.href = "contact.html";
        });
      }

      var blogsBtn = document.getElementById('blogs-btn');
      if (blogsBtn) {
        blogsBtn.addEventListener('click', function() {
          window.open('https://researchrutujdhodapkar.vercel.app/', '_blank');
        });
      }

      if (window.innerWidth > 768) {
        const navbar = document.getElementById('rectiangleNavbar');
        const aboutSection = document.getElementById('about');
        const sections = document.querySelectorAll("section");
        const navItems = document.querySelectorAll("#rectiangleNavbar .page-nav li");
        const highlight = document.querySelector("#rectiangleNavbar .highlight");
        const stickyOffset = 25;

        function getInitialOffset() {
          const topSpacer = document.querySelector('.top-spacer');
          const spacerHeight = topSpacer ? topSpacer.offsetHeight : 0;
          return aboutSection.getBoundingClientRect().top + window.scrollY - navbar.offsetHeight - 20 - spacerHeight;
        }

        let initialOffset = getInitialOffset();

        navbar.style.position = 'absolute';
        navbar.style.top = `${initialOffset}px`;

        function updateNavbarPosition() {
          if (window.scrollY >= initialOffset) {
            navbar.style.position = 'fixed';
            navbar.style.top = `${stickyOffset}px`;
            navbar.style.opacity = '1';
          } else {
            navbar.style.position = 'absolute';
            navbar.style.top = `${initialOffset}px`;
            navbar.style.opacity = '0.8';
          }
        }

        window.addEventListener('scroll', updateNavbarPosition);
        window.addEventListener('resize', () => {
          initialOffset = getInitialOffset();
          updateNavbarPosition();
        });

        updateNavbarPosition();

        navItems.forEach(item => {
          item.addEventListener("click", function(event) {
            if (this.getAttribute("data-section") === "home" || this.getAttribute("data-section") === "contact") {
              return;
            }
            event.preventDefault();
            const targetId = this.getAttribute("data-section");
            const targetSection = document.getElementById(targetId);
            if (targetSection) {
              const topSpacer = document.querySelector('.top-spacer');
              const spacerHeight = topSpacer ? topSpacer.offsetHeight : 0;
              const sectionTop = targetSection.getBoundingClientRect().top + window.scrollY - (targetId === "about" ? spacerHeight : 0);
              window.scrollTo({ top: sectionTop, behavior: "smooth" });
            }
            navItems.forEach(nav => nav.classList.remove('active'));
            this.classList.add('active');
            updateHighlight();
          });
        });

        window.addEventListener('scroll', function() {
          let currentSection = '';
          sections.forEach(section => {
            const sectionTop = section.offsetTop - 50;
            if (window.scrollY >= sectionTop) {
              currentSection = section.getAttribute('id');
            }
          });
          navItems.forEach(item => {
            item.classList.remove('active');
            if (item.getAttribute('data-section') === currentSection) {
              item.classList.add('active');
            }
          });
          updateHighlight();
        });

        function updateHighlight() {
          const activeItem = document.querySelector("#rectiangleNavbar .page-nav li.active");
          if (activeItem) {
            const { offsetLeft, offsetWidth, offsetHeight } = activeItem;
            highlight.style.left = `${offsetLeft}px`;
            highlight.style.width = `${offsetWidth}px`;
            highlight.style.height = `${offsetHeight}px`;
          }
        }

        updateHighlight();
      }
    });

    // ----------- Transparent overlay for scroll up at top -----------
    (function() {
      const overlay = document.getElementById('scrollUpOverlay');
      let overlayActive = false;
      let overlayTimeout = null;
      let lastY = 0;
      let scrollUpDetected = false;

      function showOverlay() {
        if (overlayActive) return;
        overlay.classList.add('active');
        overlayActive = true;
        scrollUpDetected = false;
        overlayTimeout = setTimeout(hideOverlay, 2000);
      }

      function hideOverlay() {
        overlay.classList.remove('active');
        overlayActive = false;
        scrollUpDetected = false;
        if (overlayTimeout) {
          clearTimeout(overlayTimeout);
          overlayTimeout = null;
        }
      }

      let lastScrollY = window.scrollY;
      window.addEventListener('scroll', function() {
        if (window.scrollY === 0 && lastScrollY !== 0) {
          showOverlay();
        }
        lastScrollY = window.scrollY;
      });

      function onOverlayScroll(e) {
        if (!overlayActive) return;
        if (e.type === 'wheel' && e.deltaY < 0) {
          scrollUpDetected = true;
        }
        if (e.type === 'touchstart') {
          lastY = e.touches[0].clientY;
        }
        if (e.type === 'touchmove') {
          let currentY = e.touches[0].clientY;
          if (currentY - lastY > 10) {
            scrollUpDetected = true;
          }
        }
        if (scrollUpDetected) {
          hideOverlay();
          window.location.href = "Main.html";
        }
      }
      overlay.addEventListener('wheel', onOverlayScroll, { passive: false });
      overlay.addEventListener('touchstart', onOverlayScroll, { passive: false });
      overlay.addEventListener('touchmove', onOverlayScroll, { passive: false });

      overlay.addEventListener('mousedown', hideOverlay);
      overlay.addEventListener('touchend', hideOverlay);

      window.addEventListener('keydown', function(e) {
        if (overlayActive && e.key === "Escape") {
          hideOverlay();
        }
      });
    })();

    // ----------- Transparent overlay for scroll down at bottom -----------
    (function() {
      const overlay = document.getElementById('scrollDownOverlay');
      let overlayActive = false;
      let overlayTimeout = null;
      let lastY = 0;
      let scrollDownDetected = false;

      function showOverlay() {
        if (overlayActive) return;
        overlay.classList.add('active');
        overlayActive = true;
        scrollDownDetected = false;
        overlayTimeout = setTimeout(hideOverlay, 2000);
      }

      function hideOverlay() {
        overlay.classList.remove('active');
        overlayActive = false;
        scrollDownDetected = false;
        if (overlayTimeout) {
          clearTimeout(overlayTimeout);
          overlayTimeout = null;
        }
      }

      let lastScrollY = window.scrollY;
      window.addEventListener('scroll', function() {
        const viewportHeight = window.innerHeight;
        const docHeight = Math.max(
          document.body.scrollHeight, document.documentElement.scrollHeight,
          document.body.offsetHeight, document.documentElement.offsetHeight,
          document.body.clientHeight, document.documentElement.clientHeight
        );
        if (
          window.scrollY + viewportHeight >= docHeight - 2 &&
          lastScrollY + viewportHeight < docHeight
        ) {
          showOverlay();
        }
        lastScrollY = window.scrollY;
      });

      function onOverlayScroll(e) {
        if (!overlayActive) return;
        if (e.type === 'wheel' && e.deltaY > 0) {
          scrollDownDetected = true;
        }
        if (e.type === 'touchstart') {
          lastY = e.touches[0].clientY;
        }
        if (e.type === 'touchmove') {
          let currentY = e.touches[0].clientY;
          if (lastY - currentY > 10) {
            scrollDownDetected = true;
          }
        }
        if (scrollDownDetected) {
          hideOverlay();
          window.location.href = "contact.html";
        }
      }
      overlay.addEventListener('wheel', onOverlayScroll, { passive: false });
      overlay.addEventListener('touchstart', onOverlayScroll, { passive: false });
      overlay.addEventListener('touchmove', onOverlayScroll, { passive: false });

      overlay.addEventListener('mousedown', hideOverlay);
      overlay.addEventListener('touchend', hideOverlay);

      window.addEventListener('keydown', function(e) {
        if (overlayActive && e.key === "Escape") {
          hideOverlay();
        }
      });
    })();
  </script>

<!-- Removed scroll up animation as per instructions -->
<!--
<script>
let lastScrollY = window.scrollY;
let elasticScrollTriggered = false;

window.addEventListener('scroll', () => {
  const currentScroll = window.scrollY;
  if (currentScroll < lastScrollY && currentScroll === 0) {
    if (!elasticScrollTriggered) {
      elasticScrollTriggered = true;
      document.body.style.transition = 'transform 0.3s ease-out';
      document.body.style.transform = 'translateY(20px)';
      setTimeout(() => {
        document.body.style.transform = 'translateY(0)';
      }, 300);
    }
  } else {
    elasticScrollTriggered = false;
  }
  lastScrollY = currentScroll;
});

let lastScrollYForBottom = window.scrollY;
window.addEventListener('scroll', () => {
  const scrollY = window.scrollY;
  const viewportHeight = window.innerHeight;
  const docHeight = Math.max(
    document.body.scrollHeight, document.documentElement.scrollHeight,
    document.body.offsetHeight, document.documentElement.offsetHeight,
    document.body.clientHeight, document.documentElement.clientHeight
  );
  // No redirection or animation here, handled by overlay logic above
  lastScrollYForBottom = scrollY;
});
</script>
-->
</body>

<style>
  @font-face {
    font-family: 'BitmapFont';
    src: url('BitmapFont.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
  }
  #customContextMenu {
    display: none;
    position: fixed;
    z-index: 10001;
    background: #fff;
    color: #232323;
    border: 1px solid #e0e0e0;
    border-radius: 12px;
    min-width: 90px;
    font-family: 'BitmapFont', Arial, sans-serif;
    padding: 3px 4px;
    overflow: hidden;
    opacity: 0;
    transition: opacity 0.18s 0.12s, width 0.32s cubic-bezier(.4,1.4,.6,1), height 0.32s cubic-bezier(.4,1.4,.6,1);
    width: auto;
    height: auto;
    font-size: 0.82em;
  }
  #customContextMenu .menu-item {
    padding: 5px 12px;
    cursor: pointer;
    transition: background 0.18s, color 0.18s;
    user-select: none;
    color: #232323;
    border-radius: 8px;
    margin: 3px 0;
    font-size: 0.92em;
    font-family: 'BitmapFont', Arial, sans-serif;
  }
  #customContextMenu .menu-item:hover {
    background: #f0f0f0;
    color: #727272;
  }
  #customContextMenu .menu-separator {
    height: 1px;
    background: linear-gradient(90deg, #e0e0e0 0%, #f5f5f5 100%);
    margin: 4px 0;
    border: none;
    border-radius: 8px;
  }
  #contextSquare {
    position: fixed;
    z-index: 10000;
    background: #fff;
    border-radius: 8px;
    pointer-events: none;
    width: 16px;
    height: 16px;
    left: 0; top: 0;
    opacity: 0;
    transform: scale(1);
    transition:
      opacity 0.12s,
      width 0.32s cubic-bezier(.4,1.4,.6,1),
      height 0.32s cubic-bezier(.4,1.4,.6,1),
      transform 0.32s cubic-bezier(.4,1.4,.6,1);
    border: 1px solid #e0e0e0;
    border-radius: 12px;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  #contextSquare.active {
    opacity: 1;
  }
  #contextSquare #sju-blur-text {
    position: absolute;
    left: 0; top: 0; right: 0; bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
    font-family: 'BitmapFont', Arial, sans-serif;
    font-size: 1.1em;
    color: #232323;
    filter: blur(5px);
    opacity: 0;
    pointer-events: none;
    user-select: none;
    transition: opacity 0.18s;
    z-index: 1;
    font-weight: bold;
    letter-spacing: 0.08em;
    text-shadow: 0 0 4px #fff, 0 0 8px #fff;
  }
  #contextSquare.show-blur-text #sju-blur-text {
    opacity: 1;
  }
</style>

<div id="contextSquare">
  <span id="sju-blur-text">sju</span>
</div>
<div id="customContextMenu">
  <div class="menu-item" onclick="handleCopy()">Copy</div>
  <div class="menu-item" onclick="handleShare()">Share</div>
  <div class="menu-item" onclick="handleRefresh()">Refresh</div>
  <div class="menu-item" onclick="handlePrint()">Print</div>
</div>

<script>
  const menu = document.getElementById('customContextMenu');
  const square = document.getElementById('contextSquare');
  const sjuText = document.getElementById('sju-blur-text');

  function getMenuSize() {
    menu.style.display = 'block';
    menu.style.opacity = '0';
    menu.style.left = '-9999px';
    menu.style.top = '-9999px';
    menu.style.width = 'auto';
    menu.style.height = 'auto';
    const rect = menu.getBoundingClientRect();
    menu.style.display = 'none';
    menu.style.opacity = '0';
    const maxDim = Math.max(rect.width, rect.height);
    return { width: maxDim, height: maxDim };
  }

  document.addEventListener('contextmenu', function(e) {
    if (menu.contains(e.target)) return;
    e.preventDefault();
    menu.style.display = 'none';
    menu.style.opacity = '0';
    square.classList.remove('active', 'show-blur-text');
    square.style.transition = 'none';
    sjuText.style.opacity = '0';
    const relX = e.clientX;
    const relY = e.clientY;
    square.style.position = 'fixed';
    square.style.left = relX + 'px';
    square.style.top = relY + 'px';
    square.style.width = '16px';
    square.style.height = '16px';
    square.style.opacity = '1';
    square.style.transform = 'scale(1)';
    square.classList.add('active');
    square.classList.remove('show-blur-text');
    sjuText.style.opacity = '0';
    const menuSize = getMenuSize();
    const expandSize = Math.max(70, menuSize.width + 12);
    setTimeout(() => {
      square.style.transition =
        'width 0.32s cubic-bezier(.4,1.4,.6,1), ' +
        'height 0.32s cubic-bezier(.4,1.4,.6,1), ' +
        'opacity 0.12s, ' +
        'transform 0.32s cubic-bezier(.4,1.4,.6,1)';
      square.style.width = expandSize + 'px';
      square.style.height = expandSize + 'px';
      square.style.left = relX + 'px';
      square.style.top = relY + 'px';
      square.style.transformOrigin = 'top left';
      square.style.transform = 'scale(1)';
      setTimeout(() => {
        square.classList.add('show-blur-text');
      }, 60);
      setTimeout(() => {
        let menuX = relX;
        let menuY = relY;
        if (menuX + expandSize > window.innerWidth) {
          menuX = window.innerWidth - expandSize - 4;
        }
        if (menuY + expandSize > window.innerHeight) {
          menuY = window.innerHeight - expandSize - 4;
        }
        menu.style.width = expandSize + 'px';
        menu.style.height = expandSize + 'px';
        menu.style.left = menuX + 'px';
        menu.style.top = menuY + 'px';
        menu.style.display = 'block';
        setTimeout(() => {
          menu.style.opacity = '1';
        }, 10);
        setTimeout(() => {
          square.style.opacity = '0';
          square.classList.remove('show-blur-text');
        }, 80);
      }, 220);
    }, 8);
  });

  document.addEventListener('mousedown', function(e) {
    if (!menu.contains(e.target)) {
      menu.style.display = 'none';
      menu.style.opacity = '0';
      menu.style.width = 'auto';
      menu.style.height = 'auto';
      square.classList.remove('active', 'show-blur-text');
      square.style.opacity = '0';
      sjuText.style.opacity = '0';
    }
  });

  window.addEventListener('resize', function() {
    menu.style.display = 'none';
    menu.style.opacity = '0';
    menu.style.width = 'auto';
    menu.style.height = 'auto';
    square.classList.remove('active', 'show-blur-text');
    square.style.opacity = '0';
    sjuText.style.opacity = '0';
  });

  window.addEventListener('scroll', function() {
    menu.style.display = 'none';
    menu.style.opacity = '0';
    menu.style.width = 'auto';
    menu.style.height = 'auto';
    square.classList.remove('active', 'show-blur-text');
    square.style.opacity = '0';
    sjuText.style.opacity = '0';
  });

  function handleCopy() {
    let selectedText = window.getSelection().toString();
    if (selectedText) {
      navigator.clipboard.writeText(selectedText).then(() => {
        consol.log('Copied: ' + selectedText);
      }, () => {
        consol.log('Copy failed.');
      });
    } else {
      navigator.clipboard.writeText(window.location.href).then(() => {
        consol.log('Page URL copied!');
      }, () => {
        consol.log('Copy failed.');
      });
    }
    menu.style.display = 'none';
    menu.style.opacity = '0';
    menu.style.width = 'auto';
    menu.style.height = 'auto';
    square.classList.remove('active', 'show-blur-text');
    square.style.opacity = '0';
    sjuText.style.opacity = '0';
  }

  function handleShare() {
    if (navigator.share) {
      navigator.share({
        title: document.title,
        url: window.location.href
      }).catch(() => {});
    } else {
      navigator.clipboard.writeText(window.location.href).then(() => {
        consol.log('Page URL copied! (Share not supported)');
      });
    }
    menu.style.display = 'none';
    menu.style.opacity = '0';
    menu.style.width = 'auto';
    menu.style.height = 'auto';
    square.classList.remove('active', 'show-blur-text');
    square.style.opacity = '0';
    sjuText.style.opacity = '0';
  }

  function handleRefresh() {
    location.reload();
  }

  function handlePrint() {
    window.print();
    menu.style.display = 'none';
    menu.style.opacity = '0';
    menu.style.width = 'auto';
    menu.style.height = 'auto';
    square.classList.remove('active', 'show-blur-text');
    square.style.opacity = '0';
    sjuText.style.opacity = '0';
  }
</script>



</html>

